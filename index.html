<!DOCTYPE HTML>
<html>
	<head>  
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link type="text/css" href="lib/themes/base/jquery.ui.all.css" rel="stylesheet" />
		<link rel="shortcut icon" type="image/ico" href="img/korp_icon.ico">
		<link rel="stylesheet" type="text/css" href="style.css">
		<link rel="stylesheet" type="text/css" href="pagination.css">
		
		<title>Korp</title>
		
		<script type="text/javascript" src="scripts/jquery.js"></script>
		
		
		<script type="text/javascript" src="lib/ui/jquery.ui.core.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.widget.js"></script>
		
		<script type="text/javascript" src="lib/ui/jquery.ui.tabs.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.button.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.effects.core.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.effects.slide.js"></script>
		
		<script type="text/javascript" src="lib/jquery.pagination.js"></script>
		<script type="text/javascript" src="lib/jquery.tmpl.js"></script>
		<script type="text/javascript" src="lib/jquery.tooltip.pack.js"></script>
		<script type="text/javascript" src="lib/jquery.dump.js"></script>
		<script type="text/javascript" src="lib/jquery.localize.js"></script>
		<script>
			$("[rel^=localize]").localize("locale" ,{pathPrefix : "translations"});
			var language = $.localize.data.locale;
		</script>
		<script type="text/javascript" src="config.js"></script>
		
		<script type="text/javascript" src="scripts/main.js"></script>
		<script type="text/javascript" src="scripts/querytable.js"></script>
		<script type="text/javascript" src="scripts/request.js"></script>
<!--		<script type="text/javascript" src="scripts/tabs.js"></script>-->
		<script type="text/javascript" src="scripts/sidebar.js"></script>
		 
	</head>
  	<body>
  		<div id="header">
  			<img src="img/korp_s.png" />
  			<h1>Korp</h1>
<!--  			<p>-->
<!--  				<span rel="localize[disclaimer]">Korp är under utveckling, du bör för närvarande använda</span> <a href="http://demosb.spraakdata.gu.se/glossa/html/">Glossa</a>-->
<!--  			</p>-->
  			<div id="flags">
  				<img alt="sv" src="img/flag-se.png" class="flag">
  				<img alt="en" src="img/flag-en.png" class="flag">
  			</div>
  		</div>
		<div id="content">
			<form action="/cgi-bin/korp/korp.cgi" id="query_form" method="GET" onsubmit="submitForm()" target="_blank">
				<input name="command" value="query" type="hidden">
				<input name="corpus" id="corpus" type="hidden">
				<input name="cqp" id="cqp" type="hidden">
				
				<div id="tabs-container">
					<ul>
						<li ><a href="#korp-simple" rel="localize[simple]">Enkel</a></li>
						<li ><a href="#korp-extended" rel="localize[extended]">Detaljerad</a></li>
						<li ><a href="#korp-advanced"rel="localize[advanced]">Avancerad</a></li>
					</ul>
					<div id="korp-simple">
						<span rel="localize[search_for]">Sök efter</span><input id="simple_text" type="text" onchange="onSimpleChange()" /> <span rel="localize[in_corpus]">i</span>  
						<select class="select_corpus" onchange="didSelectCorpus()"></select>
					</div>
					<div id="korp-extended">					
						<div id="simple">
			   				<table class="query_header"><tbody><tr>
								<td>
									<strong rel="localize[corpus]">Korpus</strong><strong>:</strong> 
									<select class="select_corpus" onchange="didSelectCorpus()"></select>
								</td>       
							</tr></tbody></table>
					<div id="simple_query">
					<div id="query_table">
					<div class="query_row line_above"><img style="display: none;"
						class="image_button remove_row" src="img/minus.png"><select
						style="width: 71px;" disabled="disabled" class="select_operation">
						<option selected="selected" value="find">Leta efter</option>
					</select><select disabled="disabled" class="select_language">
						<option selected="selected" value="SUC2">svenska</option>
					</select>
					<table class="query_token" cellpadding="0" cellspacing="0">
						<tbody>
							<tr class="query_arg">
								<td><select style="width: 59px;" class="arg_type">
									<optgroup label="ord">
										<option selected="selected" value="word">ordet är</option>
										<option value="notword">ordet är inte</option>
										<option value="beginswith">börjar med</option>
										<option value="endswith">slutar med</option>
										<option value="regexp">reguljärt uttryck</option>
									</optgroup>
									<optgroup label="ordklass">
										<option value="pos">ordklassen är</option>
										<option value="msd">ordklassen börjar med</option>
									</optgroup>
									<optgroup label="intervall">
										<option value="max">upp till</option>
										<option value="min">minst</option>
									</optgroup>
								</select><input id="query_input" class="arg_value" type="text" /></td>
								<td><img style="visibility: hidden;"
									class="image_button remove_arg" src="img/minus.png"><img
									class="image_button insert_arg" src="img/plus.png"></td>
							</tr>
						</tbody>
					</table>
					<img class="image_button insert_token" src="img/plus.png"></div>
					</div>
					<div class="buttons_row"><span id="buttons_row"><img
						style="visibility: hidden;" class="image_button remove_row"
						src="img/minus.png"><img class="image_button insert_row"
						src="img/plus.png"></span> &nbsp;&nbsp;&nbsp;&nbsp;</div>
					</div>
					</div>
					</div>
					<div id="korp-advanced">
						<div id="advanced">
							<div class="query_footer">
								<span class="cqp_toggle" rel="localize[cqp_query]">
									Fullständig CQP-fråga
									<!-- <input id="full_query" onchange="toggleFullQuery()" type="checkbox">  -->
								</span>:
								<select class="select_corpus" onchange="didSelectCorpus()"></select>
								<textarea  rows="2" id="cqp_string">[(word = "")]</textarea>
							</div>
			   			</div>
			   		</div>
			   		<input value="  Sök  " type="button" onclick="submitFormToServer()" rel="localize[search]"/>
		   		</div>
	  		</form>
			
			<div id="results-wraper">
				<a name="results"></a>
				<table><tbody><tr>
				  <td>
				   <label for="num_hits" rel="localize[hits_per_page]">Träffar per sida</label>: 
				   <input name="num_hits" id="num_hits" size="3" value="10" type="number"> 
				  </td>
				  <!-- 
				  <td>
				   <label for="context">Kontext:</label> 
				  	<select name="context" id="context_select" onchange="submitFormToServer()"><option selected="selected" value="1 sentence">1 mening</option><option value="5 words">5 ord</option><option value="10 words">10 ord</option></select>
				  </td>
				   -->
<!--				  <td>-->
<!--				   <em>Visa:</em>-->
<!--				   <span id="attributes"><span class="show_attribute"><input value="msd" name="show" type="checkbox" onchange="submitFormToServer()">ordklass </span><span class="show_attribute"><input value="lemma" name="show" type="checkbox">lemma </span><span class="show_attribute"><input value="sentence_n" name="show" type="checkbox">mening </span></span>-->
<!--				   <span id="automatic_attributes"></span>-->
<!--				 </td>-->
				</tr></tbody></table>  
				<div id="pager-wraper">
					<span rel="localize[num_results]">Antal resultat</span>:<span id="num-result"></span>
					<div class="pagination" id="Pagination"></div>
				</div>
				<div id="result-container">
					<ul >
						<li class="on"><a href="#results">Tabell</a></li>
						<li><a href="#results-sentence">Mening</a></li>
					</ul>
					<div id="results">
						<table id="results-table" class="result_table">
						</table>
					</div>
					<div id="results-sentence"></div>
				</div>
				<div id="tooltip-container"></div>
			</div>
			<div id="sidebar" >	
				<a id="json-link" href="#"><img src="img/json.png" /></a>
				
				<script id="sidebarTmpl" type="text/x-jquery-tmpl">
					<p><span rel="localize[${$data}]">${util.getLocaleString($data)}</span> : ${$item.word[$data]}</p>
				</script>
				
				<h4 rel="localize[sentence_attr]"></h4>
				<div id="selected_sentence"></div>
				
				<h4 rel="localize[word_attr]"></h4>
				<div id="selected_word"></div>
				
				
			</div>
			
		</div>
		
		
	<script id="sentenceTmpl" type="text/x-jquery-tmpl">
		<tr>
		  	<td class="left">
			{{each left}}
				<span name="${$item.rowIndex + "-" + $index}" class="word">${word}</span>
			{{/each}}
		  	</td>
		  	<td class="match">
			{{each match}}
				<span name="${$item.rowIndex + "-" + ($data.left.length + $index)}" class="word">${word}</span>
			{{/each}}
		  	</td>
		  	<td class="right">
			{{each right}}
				<span name="${$item.rowIndex + "-" + ($data.left.length + $data.match.length + $index)}" class="word">${word}</span>
			{{/each}}
		  	</td>
	  </tr>
	</script>
	
	</body>
 </html>
