<!DOCTYPE HTML>
<html>
	<head>  
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link type="text/css" href="lib/themes/base/jquery.ui.all.css" rel="stylesheet" />
		<link type="text/css" href="jquery.tooltip.css" rel="stylesheet" />
		<link rel="shortcut icon" type="image/ico" href="img/korp_icon.ico">
		<link rel="stylesheet" type="text/css" href="style.css">
		<link rel="stylesheet" type="text/css" href="pagination.css">
		
		<title>Korp</title>
		
		<script type="text/javascript" src="lib/jquery.js"></script>
		<script type="text/javascript" src="lib/mootools-1.2.4-base.js"></script>
		<script type="text/javascript" src="lib/Class.Mutators.jQuery.js"></script>
		<script type="text/javascript" src="lib/raphael-min.js"></script>
		<script type="text/javascript" src="lib/modernizr-1.7.min.js"></script>
		
		<script type="text/javascript" src="lib/scxml/require.js"></script>
		<script type="text/javascript" src="lib/scxml/require/xml.js"></script>
		<script type="text/javascript" src="lib/scxml/require/text.js"></script>
		
		<script type="text/javascript" src="lib/ui/jquery.ui.core.js" ></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.widget.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.position.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.mouse.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.draggable.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.resizable.js"></script>
		
		<script type="text/javascript" src="lib/ui/jquery.ui.autocomplete.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.dialog.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.tabs.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.button.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.effects.core.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.effects.slide.js"></script>
		<script type="text/javascript" src="lib/jquery.ui.preloader.min.js"></script>
		
		<script type="text/javascript" src="lib/jquery.jLog.min.js"></script>
		<script type="text/javascript" src="lib/jquery.pagination.js"></script>
		<script type="text/javascript" src="lib/jquery.tmpl.js"></script>
		<script type="text/javascript" src="lib/jquery.tooltip.pack.js"></script>
		<script type="text/javascript" src="lib/jquery.dump.js"></script>
		<script type="text/javascript" src="lib/jquery.format.js"></script>
		<script type="text/javascript" src="lib/jquery.localize.js"></script>
		<script type="text/javascript" src="lib/jquery.raphael.spinner.js"></script>
		<script type="text/javascript" src="lib/jstorage.js"></script>
		<script>
			$("[rel^=localize]").localize("locale" ,{pathPrefix : "translations"});
			var language = $.localize.data.locale;
			if(!language)
				$.error("Localization failed");
		</script>
		<script type="text/javascript" src="config.js"></script>
		
		<script type="text/javascript" src="scripts/selector_widget.js"></script>
		
		<script type="text/javascript" src="scripts/controller.js"></script>
		<script type="text/javascript" src="scripts/view.js"></script>
		<script type="text/javascript" src="scripts/model.js"></script>
		<script type="text/javascript" src="scripts/main.js"></script>
		<script type="text/javascript" src="scripts/querytable.js"></script>
		<script type="text/javascript" src="scripts/request.js"></script>
		<script type="text/javascript" src="scripts/sidebar.js"></script>
		<script type="text/javascript" src="scripts/jq_extensions.js"></script>
		
		
		
	</head>
  	<body>
  		<div id="header">
  			<img src="img/korplogo.png" />
  			<ul id="languages">
  				<li rel="localize[swedish]" data-lang="sv">Svenska</li>
  				<li rel="localize[english]" data-lang="en">Engelska</li>
  			</ul>
  		</div>
		
  		<div id="corpusbox"></div>
  		
		<div id="content">
	   		
	   		<div id="searchbar" ></div>
			
			<div id="results-wraper">
				<div id="columns" >
					<div id="left-column" >
						<div id="result-container">
							<ul>
								<li class="on"><a href="#results">KWIC</a></li>
								<li style="display:none;"><a href="#results-sentence">Mening</a></li>
								<li><a href="#results-lemgram" rel="localize[lemgram_results]" >Ordbild</a></li><!-- class="ui-icon ui-icon-script" -->
								<li><a href="#results-stats" rel="localize[statistics]">Statistik</a></li>
							</ul>
							<div id="results">
								<a name="results"></a>
									<div id="result_controls">
									   <div><label for="num_hits" rel="localize[hits_per_page]">Tr√§ffar per sida</label>: 
									   <input name="num_hits" id="num_hits" size="3" value="25" type="number" step="5" ></div> 
									   <div id="controls_n" ><span rel="localize[num_results]">Antal resultat</span>: <span id="num-result"></span></div>
									   <div style="clear : both; float : none;" ></div>
								   </div>
								<div id="pager-wraper">
									<div class="pagination" id="Pagination"></div>
								</div>
								<div id="table_scrollarea">
									<table id="results-table" class="result_table"></table>
								</div>
							</div>
							<div id="results-sentence"></div>
							<div id="results-lemgram"></div>
							<div id="results-stats"></div>
						</div>
						<div id="tooltip-container"></div>
						<a id="json-link" href="#"><img src="img/json.png" /></a>
					</div>
					<div id="sidebar" class="ui-corner-all" >	
						
						<div id="selected_sentence"></div>
						
						<div id="selected_word"></div>
					</div>
					<div style="clear : both; float : none;"></div>
				</div>
			</div>
		</div>
		
	<script id="sidebarTmpl" type="text/x-jquery-tmpl">
		
		<h4 rel="localize[${$item.header}_attr]"></h4>
		{{each $item.corpusAttributes}}
		<tr>
			<p><span rel="localize[${$value.label}]">${util.getLocaleString($value.label)}</span>:
			{{if $value.dataset}}
			 ${$value.dataset[$data[$index]]}
			{{else $index == "lemma"}}
			{{html $.arrayToHTMLList($.grep(($data[$index] != null ? $data[$index].split("|") : []), function(itm) {return itm && itm.length})).outerHTML()}}
			{{else $value.type == "set"}}
			<span id="sidebar_${$index}">${$data[$index]}</span>
			{{else}}
			${$data[$index]}</p>
			{{/if}}

			</p>
	    </tr>
		{{/each}}
	</script>
	<script id="sentenceTmpl" type="text/x-jquery-tmpl">
		<tr>
		  	<td class="left">
			{{each left}}
				<span name="${$item.rowIndex + "-" + $index}" class="word">${word}</span>
			{{/each}}
		  	</td>
		  	<td class="match">
			{{each match}}
				<span name="${$item.rowIndex + "-" + ($data.left.length + $index)}" class="word">${word}</span>
			{{/each}}
		  	</td>
		  	<td class="right">
			{{each right}}
				<span name="${$item.rowIndex + "-" + ($data.left.length + $data.match.length + $index)}" class="word">${word}</span>
			{{/each}}
		  	</td>
	  </tr>
	</script>

	<script id="lemgramRowTmpl" type="text/x-jquery-tmpl">
		<div 
		{{if word}}
		data-word="${word}">
			<h3 id="display_word"></h3>
		{{else}}
		data-rel="${$data[0].rel}">
		<table>
			{{each $data}}
			{{if $item.lemgram == $.grep($value[(!$item.isAdj ? "head" : "dep")].split("|"), Boolean)[0]}}
			<tr>
				<td data-lemgram="${$.grep($value[(!$item.isAdj ? "dep" : "head")].split("|"), Boolean)[0]}" data-depextra="${$value.depextra}"></td> 
				<td>${$value.freq}</td>
				<td id="example_link" 
					data-head="${$value['head']}" 
					data-dep="${$value['dep']}" 
					data-rel="${$value.rel}" 
					data-depextra="${$value.depextra}" 
					data-corpus="${$value.corpus.join(",")}"
					{{if !util.isLemgramId($.grep($value[(!$item.isAdj ? "dep" : "head")].split("|"), Boolean)[0])}}
					class="alt_form"
					{{/if}}
					></td>
		    </tr>
			{{/if}}
			{{/each}}
		</table>
		{{/if}}
		</div>
	</script>
	
	<script id="statTableTmpl" type="text/x-jquery-tmpl">
		
		<table>
		<tr><th></th>
		
		{{each $item.corpusArray}}
			{{if $value != "time"}}
			<th>${$value}</th>
			{{/if}}
		{{/each}}
		
		{{each(i, word) $item.wordArray}}
		<tr><td class="word_column">${word}</td>
			{{each(j, corpus) $item.corpusArray}}
			<td>${$data[corpus][word]}</td>
			{{/each}}
		</tr>
		{{/each}}
		
		</table>
	</script>
	</body>
 </html>
