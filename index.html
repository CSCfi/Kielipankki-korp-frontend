<!DOCTYPE HTML>
<html>
	<head>  
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link type="text/css" href="lib/themes/base/jquery.ui.all.css" rel="stylesheet" />
		<link rel="shortcut icon" type="image/ico" href="img/korp_icon.ico">
		<link rel="stylesheet" type="text/css" href="style.css">
		<link rel="stylesheet" type="text/css" href="pagination.css">
		<link  href="http://fonts.googleapis.com/css?family=OFL+Sorts+Mill+Goudy+TT:regular,italic" rel="stylesheet" type="text/css" >
		
		<title>Korp</title>
		
		<script type="text/javascript" src="lib/jquery.js"></script>
		
		
		<script type="text/javascript" src="lib/ui/jquery.ui.core.js" ></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.widget.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.position.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.mouse.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.draggable.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.resizable.js"></script>
		
		<script type="text/javascript" src="lib/ui/jquery.ui.autocomplete.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.dialog.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.tabs.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.ui.button.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.effects.core.js"></script>
		<script type="text/javascript" src="lib/ui/jquery.effects.slide.js"></script>
		<script type="text/javascript" src="lib/jquery.ui.preloader.min.js"></script>
		
		<script type="text/javascript" src="lib/jquery.jLog.min.js"></script>
		<script type="text/javascript" src="lib/jquery.pagination.js"></script>
		<script type="text/javascript" src="lib/jquery.tmpl.js"></script>
		<script type="text/javascript" src="lib/jquery.tooltip.pack.js"></script>
		<script type="text/javascript" src="lib/jquery.dump.js"></script>
		<script type="text/javascript" src="lib/jquery.format.js"></script>
		<script type="text/javascript" src="lib/jquery.localize.js"></script>
		<script>
			$("[rel^=localize]").localize("locale" ,{pathPrefix : "translations"});
			var language = $.localize.data.locale;
			if(!language)
				$.error("Localization failed");
		</script>
		<script type="text/javascript" src="config.js"></script>
		
		<script type="text/javascript" src="scripts/main.js"></script>
		<script type="text/javascript" src="scripts/querytable.js"></script>
		<script type="text/javascript" src="scripts/request.js"></script>
<!--		<script type="text/javascript" src="scripts/tabs.js"></script>-->
		<script type="text/javascript" src="scripts/sidebar.js"></script>
		<script type="text/javascript" src="scripts/jq_extensions.js"></script>
		
		
		 
	</head>
  	<body>
  		<div id="header">
  			<img src="img/korp_s.png" />
  			<h1>Korp</h1>
<!--  			<p>-->
<!--  				<span rel="localize[disclaimer]">Korp är under utveckling, du bör för närvarande använda</span> <a href="http://demosb.spraakdata.gu.se/glossa/html/">Glossa</a>-->
<!--  			</p>-->
  			<ul id="languages">
  				<li rel="localize[swedish]" data-lang="sv">Svenska</li>
  				<li rel="localize[english]" data-lang="en">Engelska</li>
  			</ul>
  		</div>
  		
		<div id="content">
			<input name="command" value="query" type="hidden">
			<input name="corpus" id="corpus" type="hidden">
			<input name="cqp" id="cqp" type="hidden">
			
			<div id="tabs-container">
				<ul>
					<li ><a href="#korp-simple" rel="localize[simple]">Enkel</a></li>
					<li ><a href="#korp-extended" rel="localize[detailed]">Detaljerad</a></li>
					<li ><a href="#korp-advanced"rel="localize[advanced]">Avancerad</a></li>
				</ul>
				<div id="korp-simple">
					<div class="ui-widget">
						<span rel="localize[search_for]">Sök efter</span><input id="simple_text" type="text" onkeyup="onSimpleChange()" /> <span rel="localize[in_corpus]">i</span>
						<select class="select_corpus" onchange="didSelectCorpus()"></select>
					</div>  
				</div>
				<div id="korp-extended">					
					<div id="simple">
		   				<table class="query_header"><tbody><tr>
							<td>
								<strong rel="localize[corpus]">Korpus</strong><strong>:</strong> 
								<select class="select_corpus" onchange="didSelectCorpus()"></select>
							</td>       
						</tr></tbody></table>
						<div id="simple_query">
							<div id="query_table">
							<div class="query_row line_above">
							<img style="display: none;" class="image_button remove_row" src="img/minus.png">
								<!--  container for language selector -->
							<table class="query_token">
								<tbody>
									<tr class="query_arg">
										<td><select style="width: 59px;" class="arg_type">
											<optgroup label="ord">
												<option selected="selected" value="word">ordet är</option>
												<option value="notword">ordet är inte</option>
												<option value="beginswith">börjar med</option>
												<option value="endswith">slutar med</option>
												<option value="regexp">reguljärt uttryck</option>
											</optgroup>
											<optgroup label="ordklass">
												<option value="pos">ordklassen är</option>
												<option value="msd">ordklassen börjar med</option>
											</optgroup>
											<optgroup label="intervall">
												<option value="max">upp till</option>
												<option value="min">minst</option>
											</optgroup>
										</select><input id="query_input" class="arg_value" type="text" /></td>
										<td><img style="visibility: hidden;"
											class="image_button remove_arg" src="img/minus.png"><img
											class="image_button insert_arg" src="img/plus.png"></td>
									</tr>
								</tbody>
							</table>
							<img class="image_button insert_token" src="img/plus.png"></div>
							</div>
							<div class="buttons_row"><span id="buttons_row"><img
								style="visibility: hidden;" class="image_button remove_row"
								src="img/minus.png"><img class="image_button insert_row"
								src="img/plus.png"></span> &nbsp;&nbsp;&nbsp;&nbsp;
							</div>
						</div>
					</div>
				</div>
				<div id="korp-advanced">
					<div id="advanced">
						<div class="query_footer">
							<span class="cqp_toggle" rel="localize[cqp_query]">
								Fullständig CQP-fråga
							</span>:
							<select class="select_corpus" onchange="didSelectCorpus()"></select>
							<textarea  rows="2" id="cqp_string">[(word = "")]</textarea>
						</div>
		   			</div>
		   		</div>
		   		<input id="sendBtn" value="  Sök  " type="button" onclick="onSubmit(event)" rel="localize[search]"/>
	   		</div>
			
			<div id="results-wraper">
				<div id="columns" >
					<div id="left-column" >
						<div id="result-container">
							<ul>
								<li class="on"><a href="#results">KWIC</a></li>
								<li style="display:none;"><a href="#results-sentence">Mening</a></li>
								<li ><a href="#results-lemgram">Ordbild</a></li>
							</ul>
							<div id="results">
								<a name="results"></a>
									<div id="result_controls">
									   <div><label for="num_hits" rel="localize[hits_per_page]">Träffar per sida</label>: 
									   <input name="num_hits" id="num_hits" size="3" value="25" type="number"></div> 
									   <div id="controls_n" ><span rel="localize[num_results]">Antal resultat</span>: <span id="num-result"></span></div>
									   <div style="clear : both; float : none;" ></div>
								   </div>
								<div id="pager-wraper">
									<div class="pagination" id="Pagination"></div>
								</div>
								<div id="table_scrollarea">
									<table id="results-table" class="result_table"></table>
								</div>
							</div>
							<div id="results-sentence"></div>
							<div id="results-lemgram">
							</div>
						</div>
						<div id="tooltip-container"></div>
						<a id="json-link" href="#"><img src="img/json.png" /></a>
					</div>
					<div id="sidebar" class="ui-corner-all" >	
						
						<div id="selected_sentence"></div>
						
						<div id="selected_word"></div>
					</div>
				</div>
			</div>
		</div>
		
		
	<script id="sidebarTmpl" type="text/x-jquery-tmpl">
		
		<h4 rel="localize[${$item.header}_attr]"></h4>
		{{each $data}}
		<tr>
			{{if ($index == "lex" || $index == "saldo") && $value != "|"}}
			<p><span rel="localize[${$index}]">${util.getLocaleString($index)}</span>: <span id="sidebar_${$index}">${$value}</span></p>
			{{else}}
			<p><span rel="localize[${$index}]">${$item.attrGetter($index)}</span>: ${$value}</p>
			{{/if}}
	    </tr>
		{{/each}}
	</script>
	<script id="sentenceTmpl" type="text/x-jquery-tmpl">
		<tr>
		  	<td class="left">
			{{each left}}
				<span name="${$item.rowIndex + "-" + $index}" class="word">${word}</span>
			{{/each}}
		  	</td>
		  	<td class="match">
			{{each match}}
				<span name="${$item.rowIndex + "-" + ($data.left.length + $index)}" class="word">${word}</span>
			{{/each}}
		  	</td>
		  	<td class="right">
			{{each right}}
				<span name="${$item.rowIndex + "-" + ($data.left.length + $data.match.length + $index)}" class="word">${word}</span>
			{{/each}}
		  	</td>
	  </tr>
	</script>
	
	<script id="lemgramRowTmpl" type="text/x-jquery-tmpl">
		<div>
		{{if word}}
			<h3 id="display_word">${word}</h3>
		{{else}}
		<table>
			{{each $data}}
			
			{{if $item.lemgram == $.grep($value[($item.wordClass != "av" ? "head" : "dep")].toString().split("|"), Boolean)[0]}}
			<tr>
				<td>${util.lemgramToString($.grep($value[($item.wordClass != "av" ? "dep" : "head")].toString().split("|"), Boolean)[0])}</td>
				<td>${$value.freq}</td>
				<td id="example_link" 
					data-head="${$value['head']}" 
					data-dep="${$value['dep']}" 
					data-rel="${$value.rel}" 
					data-corpus="${$value.corpus.join(",")}"
					{{if !util.isLemgramId($.grep($value[($item.wordClass != "av" ? "dep" : "head")].toString().split("|"), Boolean)[0])}}
					class="alt_form"
					{{/if}}
					></td>
		    </tr>
			{{/if}}
			{{/each}}
		</table>
		{{/if}}
		</div>
	</script>
	</body>
 </html>
